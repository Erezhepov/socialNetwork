{"version":3,"file":"static/js/703.cf0f3b5d.chunk.js","mappings":"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","sources":["components/InputItem.tsx","webpack://practice/./src/components/pagination/Pagination.module.css?1ac0","components/pagination/Pagination.tsx","webpack://practice/./src/components/users/SearchInput.module.css?5615","components/users/SearchInput.tsx","pages/users/UsersPage.tsx","pages/users/user/User.tsx","webpack://practice/./src/pages/users/UsersPage.module.css?d5c2"],"sourcesContent":["import React, {useState} from 'react';\r\n\r\ninterface IInputItem {\r\n    type: string\r\n    placeholder: string\r\n    getValue: (value: string) => void\r\n    required: boolean\r\n}\r\n\r\nconst InputItem = (props: IInputItem) => {\r\n    const [error, setError] = useState<boolean>(false)\r\n    const [value, setValue] = useState<string>('')\r\n    const changeValue = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setError(false)\r\n        setValue(e.target.value)\r\n        props.getValue(e.target.value)\r\n    }\r\n    const setChangedValue = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        if (e.target.value.trim().length === 0) {\r\n            setError(true)\r\n        }\r\n        props.getValue(value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input onBlur={setChangedValue} value={value} onChange={changeValue} placeholder={props.placeholder}\r\n                   type={props.type}/>\r\n            {props.required && error && <div className='error-text'>This field must be required</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InputItem;","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__Sqe9S\",\"btn\":\"Pagination_btn__15g3j\"};","import React, {useState} from 'react';\r\nimport {ActionUsersPage, fetchUsers} from \"../../store/actionCreators/user\";\r\nimport {Dispatch} from \"redux\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './Pagination.module.css'\r\nimport {useTypedSelector} from \"../../hooks/useTypedSelector\";\r\n\r\ninterface IPagination {\r\n    page: number\r\n    totalCount: number\r\n}\r\n\r\nconst PaginationCustom: React.FC<IPagination> = ({page, totalCount}) => {\r\n    const users = useTypedSelector(state => state.users)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const changePage = (page: number) => {\r\n        dispatch(ActionUsersPage(page))\r\n        dispatch(fetchUsers(page, 20, users.filter.term))\r\n    }\r\n    const dispatch: Dispatch<any> = useDispatch()\r\n    let pageSize: number = 20\r\n    const portions: number = 5\r\n    const pages: number[] = []\r\n    const portionCount: number = Math.ceil(totalCount / pageSize)\r\n    for (let i = 1; i < portionCount; i++) pages.push(i)\r\n    const prevPortionItems: number = ((portionNumber - 1) * portions) + 1\r\n    const nextPortionItems: number = portionNumber * portions\r\n    if (users.totalCount <= 20) return <></>\r\n    return (\r\n        <div className={s.pagination}>\r\n            {portionNumber > 1 &&\r\n              <button className={s.btn} onClick={() => setPortionNumber(prev => prev - 1)}>Prev</button>}\r\n            {pages.filter(page => prevPortionItems <= page && page <= nextPortionItems)\r\n                .map(p => <button className={s.btn} key={p} style={{background: page === p ? '#B4D335' : ''}}\r\n                                  onClick={() => changePage(p)}>{p}</button>)}\r\n            <button className={s.btn} onClick={() => setPortionNumber(prev => prev + 1)}>Next</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaginationCustom;","// extracted by mini-css-extract-plugin\nexport default {\"searchInput\":\"SearchInput_searchInput__pUd3Y\",\"btn\":\"SearchInput_btn__3VnPa\"};","import React, {useState} from 'react';\r\nimport InputItem from \"../InputItem\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActionUsersTerm, fetchUsers} from \"../../store/actionCreators/user\";\r\nimport s from './SearchInput.module.css'\r\n\r\nconst SearchInput = () => {\r\n    const dispatch: any = useDispatch()\r\n    const [name, setName] = useState<string>('')\r\n    const getUser = (value: string) => {\r\n        setName(value)\r\n    }\r\n    const findUsers = () => {\r\n        if (name) {\r\n            dispatch(ActionUsersTerm(name))\r\n            dispatch(fetchUsers(1, 20, name))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.searchInput}>\r\n            <InputItem type={'text'} placeholder={'Find users'} getValue={getUser} required={false}/>\r\n            <button disabled={!name} className={s.btn} onClick={findUsers}>Find</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchInput;","import React, {useEffect} from 'react';\r\nimport {useTypedSelector} from \"../../hooks/useTypedSelector\";\r\nimport {ActionUsersPage, fetchFollow, fetchUnfollow, fetchUsers} from \"../../store/actionCreators/user\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport s from './UsersPage.module.css'\r\nimport User from \"./user/User\";\r\nimport {Dispatch} from \"redux\";\r\nimport PaginationCustom from \"../../components/pagination/Pagination\";\r\nimport SearchInput from \"../../components/users/SearchInput\";\r\nimport {useLocation, useNavigate} from \"react-router-dom\";\r\nimport Loading from '../../components/Loading';\r\n\r\nconst UsersPage = () => {\r\n    const {users, loading, error, page, totalCount, filter} = useTypedSelector(state => state.users)\r\n    const authState = useTypedSelector(state => state.auth)\r\n    const dispatch: Dispatch<any> = useDispatch()\r\n    const location = useLocation()\r\n    const navigate = useNavigate()\r\n    const params = new URLSearchParams(location.search)\r\n    let queryPage: string | null;\r\n    // @ts-ignore\r\n    useEffect(() => {\r\n        queryPage = params.get('page')\r\n        if (queryPage) {\r\n            dispatch(fetchUsers(Number(queryPage), 20, filter.term))\r\n            dispatch(ActionUsersPage(+queryPage))\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        navigate(`/users?page=${page}`)\r\n    }, [filter, page, navigate])\r\n    useEffect(() => {\r\n        if (!Number(queryPage)) {\r\n            dispatch(fetchUsers(page, 20, filter.term))\r\n        }\r\n    }, [authState.isAuth, page, dispatch, filter.term])\r\n    const follow = (userId: number) => dispatch(fetchFollow(userId))\r\n    const unfollow = (userId: number) => dispatch(fetchUnfollow(userId))\r\n    if (error) return <div>{error}</div>\r\n    if (!authState.isAuth) return <div><h2>You need to login</h2></div>\r\n    return (\r\n        <>\r\n            {loading && <Loading/>}\r\n            <div>\r\n                <SearchInput/>\r\n                <PaginationCustom page={page} totalCount={totalCount}/>\r\n                <div className={s.users}>\r\n                    {users.map(user => <User authId={authState.userId} key={user.id} user={user}\r\n                                             follow={follow} unfollow={unfollow}/>)}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UsersPage;","import React from 'react';\r\nimport s from \"../UsersPage.module.css\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {IUser} from \"../../../types/user\";\r\n\r\nexport interface IUserPage {\r\n    user: IUser\r\n    follow: (id: number) => void\r\n    unfollow: (id: number) => void\r\n    authId: number | null\r\n}\r\n\r\nconst User = (props: IUserPage) => {\r\n    const follow = (id: number) => props.follow(id)\r\n    const unfollow = (id: number) => props.unfollow(id)\r\n    return (\r\n        <div key={props.user.id} className={s.item}>\r\n            <Link to={'/profile/' + props.user.id} className={s.avatar}>\r\n                <img className={s.img}\r\n                     src={props.user.photos?.small || 'https://img.freepik.com/free-icon/user_318-159711.jpg'} alt=\"\"/>\r\n            </Link>\r\n            <div className={s.info}>\r\n                <div className={s.name}>{props.user.name}</div>\r\n                <div className={s.status}>{props.user.status}</div>\r\n                {\r\n                    props.user.followed ?\r\n                        <button style={{background: 'rgb(180, 211, 53)'}}\r\n                                onClick={() => unfollow(props.user.id)}>Unfollow</button>\r\n                        : props.user.id !== props.authId &&\r\n                      <button onClick={() => follow(props.user.id)}>Follow</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","// extracted by mini-css-extract-plugin\nexport default {\"users\":\"UsersPage_users__RsHeL\",\"item\":\"UsersPage_item__yYF+Z\",\"avatar\":\"UsersPage_avatar__piVhT\",\"info\":\"UsersPage_info__YV7bU\",\"name\":\"UsersPage_name__p1mKl\",\"img\":\"UsersPage_img__elozA\"};"],"names":["props","_useState","useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","value","setValue","_jsxs","children","_jsx","onBlur","e","target","trim","length","getValue","onChange","placeholder","type","required","className","_ref","page","totalCount","users","useTypedSelector","state","portionNumber","setPortionNumber","dispatch","useDispatch","pages","portionCount","Math","ceil","i","push","prevPortionItems","nextPortionItems","_Fragment","s","onClick","prev","filter","map","p","style","background","ActionUsersPage","fetchUsers","term","changePage","name","setName","InputItem","disabled","ActionUsersTerm","queryPage","_useTypedSelector","loading","authState","auth","location","useLocation","navigate","useNavigate","params","URLSearchParams","search","useEffect","get","Number","concat","isAuth","follow","userId","fetchFollow","unfollow","fetchUnfollow","Loading","SearchInput","PaginationCustom","user","User","authId","id","_props$user$photos","item","Link","to","avatar","img","src","photos","small","alt","info","status","followed"],"sourceRoot":""}