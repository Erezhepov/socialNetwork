"use strict";(self.webpackChunkpractice=self.webpackChunkpractice||[]).push([[703],{4841:function(e,n,t){var r=t(9439),s=t(2791),u=t(184);n.Z=function(e){var n=(0,s.useState)(!1),t=(0,r.Z)(n,2),i=t[0],a=t[1],c=(0,s.useState)(""),o=(0,r.Z)(c,2),l=o[0],d=o[1];return(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{onBlur:function(n){0===n.target.value.trim().length&&a(!0),e.getValue(l)},value:l,onChange:function(n){a(!1),d(n.target.value),e.getValue(n.target.value)},placeholder:e.placeholder,type:e.type}),e.required&&i&&(0,u.jsx)("div",{className:"error-text",children:"This field must be required"})]})}},8703:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(2791),s=t(1573),u=t(2963),i=t(9434),a=t(9281),c=t(1347),o=t(9439),l="Pagination_pagination__Sqe9S",d="Pagination_btn__15g3j",f=t(184),h=function(e){for(var n=e.page,t=e.totalCount,a=(0,s.i)((function(e){return e.users})),c=(0,r.useState)(1),h=(0,o.Z)(c,2),m=h[0],g=h[1],v=(0,i.I0)(),p=[],x=Math.ceil(t/20),_=1;_<x;_++)p.push(_);var j=5*(m-1)+1,b=5*m;return a.totalCount<=20?(0,f.jsx)(f.Fragment,{}):(0,f.jsxs)("div",{className:l,children:[m>1&&(0,f.jsx)("button",{className:d,onClick:function(){return g((function(e){return e-1}))},children:"Prev"}),p.filter((function(e){return j<=e&&e<=b})).map((function(e){return(0,f.jsx)("button",{className:d,style:{background:n===e?"#B4D335":""},onClick:function(){return function(e){v((0,u.Ls)(e)),v((0,u.uh)(e,20,a.filter.term))}(e)},children:e},e)})),(0,f.jsx)("button",{className:d,onClick:function(){return g((function(e){return e+1}))},children:"Next"})]})},m=t(4841),g="SearchInput_searchInput__pUd3Y",v="SearchInput_btn__3VnPa",p=function(){var e=(0,i.I0)(),n=(0,r.useState)(""),t=(0,o.Z)(n,2),s=t[0],a=t[1];return(0,f.jsxs)("div",{className:g,children:[(0,f.jsx)(m.Z,{type:"text",placeholder:"Find users",getValue:function(e){a(e)},required:!1}),(0,f.jsx)("button",{disabled:!s,className:v,onClick:function(){s&&(e((0,u.mn)(s)),e((0,u.uh)(1,20,s)))},children:"Find"})]})},x=t(7689),_=t(5413),j=function(){var e,n=(0,s.i)((function(e){return e.users})),t=n.users,o=n.loading,l=n.error,d=n.page,m=n.totalCount,g=n.filter,v=(0,s.i)((function(e){return e.auth})),j=(0,i.I0)(),b=(0,x.TH)(),Z=(0,x.s0)(),N=new URLSearchParams(b.search);(0,r.useEffect)((function(){(e=N.get("page"))&&(j((0,u.uh)(Number(e),20,g.term)),j((0,u.Ls)(+e)))}),[]),(0,r.useEffect)((function(){Z("/users?page=".concat(d))}),[g,d,Z]),(0,r.useEffect)((function(){Number(e)||j((0,u.uh)(d,20,g.term))}),[v.isAuth,d,j,g.term]);var k=function(e){return j((0,u.b_)(e))},C=function(e){return j((0,u.Au)(e))};return l?(0,f.jsx)("div",{children:l}):v.isAuth?(0,f.jsxs)(f.Fragment,{children:[o&&(0,f.jsx)(_.Z,{}),(0,f.jsxs)("div",{children:[(0,f.jsx)(p,{}),(0,f.jsx)(h,{page:d,totalCount:m}),(0,f.jsx)("div",{className:a.Z.users,children:t.map((function(e){return(0,f.jsx)(c.Z,{authId:v.userId,user:e,follow:k,unfollow:C},e.id)}))})]})]}):(0,f.jsx)("div",{children:(0,f.jsx)("h2",{children:"You need to login"})})}},1347:function(e,n,t){t(2791);var r=t(9281),s=t(1087),u=t(184);n.Z=function(e){var n;return(0,u.jsxs)("div",{className:r.Z.item,children:[(0,u.jsx)(s.rU,{to:"/profile/"+e.user.id,className:r.Z.avatar,children:(0,u.jsx)("img",{className:r.Z.img,src:(null===(n=e.user.photos)||void 0===n?void 0:n.small)||"https://img.freepik.com/free-icon/user_318-159711.jpg",alt:""})}),(0,u.jsxs)("div",{className:r.Z.info,children:[(0,u.jsx)("div",{className:r.Z.name,children:e.user.name}),(0,u.jsx)("div",{className:r.Z.status,children:e.user.status}),e.user.followed?(0,u.jsx)("button",{style:{background:"rgb(180, 211, 53)"},onClick:function(){return n=e.user.id,e.unfollow(n);var n},children:"Unfollow"}):e.user.id!==e.authId&&(0,u.jsx)("button",{onClick:function(){return n=e.user.id,e.follow(n);var n},children:"Follow"})]})]},e.user.id)}},9281:function(e,n){n.Z={users:"UsersPage_users__RsHeL",item:"UsersPage_item__yYF+Z",avatar:"UsersPage_avatar__piVhT",info:"UsersPage_info__YV7bU",name:"UsersPage_name__p1mKl",img:"UsersPage_img__elozA"}}}]);
//# sourceMappingURL=703.cf0f3b5d.chunk.js.map